{% extends "base.html" %}
{% block content %}

<a href="{{ url_for('lost_found') }}" class="back-link">â† Back to Lost & Found</a>

<div class="product-detail-container">

    <div class="detail-container">

        
        <div class="left-section">
            {% if item.image %}
                {% if item.image.startswith('http') %}
                    <img src="{{ item.image }}" class="product-main-image">
                {% else %}
                    <img src="{{ url_for('static', filename='uploads/' ~ item.image) }}" 
                         class="product-main-image">
                {% endif %}
            {% else %}
                <div class="product-main-image"
                    style="display:flex;align-items:center;justify-content:center;background:#e3f2fd;">
                    ğŸ“¦
                </div>
            {% endif %}
        </div>

        
        <div class="right-section">

            
            {% if session['user_id'] == item.user_id or session['role'] == 'admin' %}

            <div class="edit-delete-buttons">
                <a href="{{ url_for('edit_lost_item', item_id=item.id) }}" class="edit-btn">âœï¸ Edit</a>

                <a href="{{ url_for('delete_lost_item', item_id=item.id) }}"
                   onclick="return confirm('Delete this item?')" 
                   class="delete-btn">ğŸ—‘ Delete</a>

                {% if item.status != 'resolved' %}
                <a href="{{ url_for('resolve_lost_item', item_id=item.id) }}" class="sold-btn">
                    âœ” Mark as Resolved
                </a>
                {% endif %}
            </div>
            {% endif %}

            
            <h2 class="product-title">{{ item.item }}</h2>
            <div class="product-divider"></div>

            <div class="product-price-large">
                {{ item.status|capitalize }}
            </div>

            
            <div class="info-card">
                <h3 class="info-heading">Description</h3>
                <p class="info-text">{{ item.description }}</p>
            </div>

            
            <div class="info-card">
                <h3 class="info-heading">Contact Information</h3>
                <p><strong>Phone:</strong> {{ item.contact }}</p>
            </div>

        </div>

    </div>
</div>

{% endblock %}
